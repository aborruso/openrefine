# Hand's On: Reconciliation

ipsum lupsum  ^[https://data-lessons.github.io/dh-openrefine/05-advance-functions/]  and ^[http://refine.codefork.com/]

## Hand's On

1. Open ` https://raw.githubusercontent.com/libjohn/openrefine/master/data/AA-authors-you-should-read.csv `

1. authors > Edit column > Add column based on this column...  ;   Name = "Reconciled Authors"

1. authors > Reconcile > Start reconcilling...

    a. One Time...
    a. documentation:  http://refine.codefork.com/
    b. Click:  `Add Standard Service ...`
    c. From the refine.codefork.com, use VIAF `http://refine.codefork.com/reconcile/viaf`  And if you use it a lot, read the documentation follow the install instructions:  https://github.com/codeforkjeff/refine_viaf
    d. Rest of Time...
    e. VIAF > Person > Start Reconciling
    f. reconciled authors > Reconcile > Actions > Match each cell to it's best candidate
    g. Choose New Match for James Baldwin
    h. Choose new match for Richard Wright > Create new item
    
    
3. Can Export as CSV (Excel, etc.) with Reconciled info.
4. Remove all facets
    
    
    
    

6. Convert 12PM to 00PM  
    + <span class="or-menu">date2 Edit cells > transform  </span>  
        + Expression = `value.replace(" 12:"," 00:")`

8. Now make a date facet  
    + <span class="or-menu">date2 > Facet > Timeline facet </span> 


## Lipsum More Foo Text  


**Goal**: Make the same data transformations as in the previous slide’s steps 2-7, but this time you’ll do it in one step.  Think about how GREL allows you to take shortcuts.


1. <span class="or-menu">issue_date > Edit Column > Add column based on this column…  </span> 
    + New Column Name = `date3`  
    + Expression = `if(value.slice(20,22) == "PM", value.replace(/(.*\s)12(:\d\d:.*)/,"$100$2"), value).toDate()`  
2. Now make a date facet  
    + <span class="or-menu">date3 > Facet > Timeline facet </span> 




